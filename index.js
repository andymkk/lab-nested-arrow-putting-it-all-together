const createLoginTracker = (userInfo) => {
    let attemptCount = 0;
    let isLocked = false;
    
    return (passwordAttempt) => {
        if (isLocked) {
            return "Account locked due to too many failed login attempts";
        }
        
        if (passwordAttempt === userInfo.password) {
            attemptCount = 0;
            return "Login successful";
        } else {
            attemptCount++;
            
            if (attemptCount >= 3) {
                isLocked = true;
                return "Account locked due to too many failed login attempts";
            }
            
            return `Attempt ${attemptCount}: Login failed`;
        }
    };
};

module.exports = {
    ...(typeof createLoginTracker !== 'undefined' && { createLoginTracker })
};